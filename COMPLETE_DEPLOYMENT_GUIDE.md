# ğŸ“š Ù…Ø§Ù†ÙˆØ³ AI - Ø¯Ù„ÙŠÙ„ Ø§Ù„Ù†Ø´Ø± Ø§Ù„Ø´Ø§Ù…Ù„ Ø¹Ù„Ù‰ Google Cloud

**Ø§Ù„ØªØ§Ø±ÙŠØ®:** 28 Ø¯ÙŠØ³Ù…Ø¨Ø± 2025  
**Ø§Ù„Ù…Ø´Ø±ÙˆØ¹:** gen-lang-client-0415541083  
**Ø§Ù„Ø­Ø§Ù„Ø©:** âœ… Ù…Ù†Ø´ÙˆØ± ÙˆØ¬Ø§Ù‡Ø²  

---

## ğŸ“‘ ÙÙ‡Ø±Ø³ Ø§Ù„Ù…Ø­ØªÙˆÙŠØ§Øª

1. [Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©](#Ù†Ø¸Ø±Ø©-Ø¹Ø§Ù…Ø©)
2. [Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„Ø£Ø³Ø±Ø§Ø±](#Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª-ÙˆØ§Ù„Ø£Ø³Ø±Ø§Ø±)
3. [Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„ØªØ­ØªÙŠØ©](#Ø§Ù„Ø¨Ù†ÙŠØ©-Ø§Ù„ØªØ­ØªÙŠØ©)
4. [Ø§Ù„Ù…ÙˆØ§ØµÙØ§Øª Ø§Ù„ØªÙ‚Ù†ÙŠØ©](#Ø§Ù„Ù…ÙˆØ§ØµÙØ§Øª-Ø§Ù„ØªÙ‚Ù†ÙŠØ©)
5. [Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ](#Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ)
6. [Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ù…Ø¨Ø§Ø´Ø±Ø©](#Ø§Ù„Ø±ÙˆØ§Ø¨Ø·-Ø§Ù„Ù…Ø¨Ø§Ø´Ø±Ø©)
7. [Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ù†Ø´Ø±](#Ø·Ø±ÙŠÙ‚Ø©-Ø§Ù„Ù†Ø´Ø±)
8. [Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„Ù…Ø¹Ø±ÙˆÙØ©](#Ø§Ù„Ù…Ø´Ø§ÙƒÙ„-Ø§Ù„Ù…Ø¹Ø±ÙˆÙØ©)
9. [Ø§Ù„Ø­Ù„ÙˆÙ„ ÙˆØ§Ù„Ø¥ØµÙ„Ø§Ø­Ø§Øª](#Ø§Ù„Ø­Ù„ÙˆÙ„-ÙˆØ§Ù„Ø¥ØµÙ„Ø§Ø­Ø§Øª)
10. [Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚ Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ©](#Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚-Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ©)
11. [Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ù…ÙÙŠØ¯Ø©](#Ø§Ù„Ø£ÙˆØ§Ù…Ø±-Ø§Ù„Ù…ÙÙŠØ¯Ø©)

---

## ğŸ¯ Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©

ØªØ·Ø¨ÙŠÙ‚ Ù…Ø§Ù†ÙˆØ³ AI Ù…Ù†Ø´ÙˆØ± Ø¹Ù„Ù‰ Google Cloud Platform Ø¨Ù…ÙˆØ§ØµÙØ§Øª Ø¹Ø§Ù„ÙŠØ© Ø¬Ø¯Ø§Ù‹:

- **Frontend VM:** 8 vCPU, 64 GB RAM (c3-highmem-8)
- **Backend:** Cloud Run (4 GB RAM, 2 vCPU, always-on)
- **MongoDB:** Atlas (Free M0)
- **Redis:** Memorystore (1 GB)
- **Ø§Ù„ØªÙƒÙ„ÙØ© Ø§Ù„Ø´Ù‡Ø±ÙŠØ©:** ~$513-593

**Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ø¨Ø§Ø´Ø±:** http://34.121.111.2

---

## ğŸ” Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„Ø£Ø³Ø±Ø§Ø±

### Google Cloud Project

```yaml
Project ID: gen-lang-client-0415541083
Project Number: 247096226016
Region: us-central1
Zone: us-central1-a
```

### Service Account

```yaml
Email: vertex-express@gen-lang-client-0415541083.iam.gserviceaccount.com
Key File: gcp-service-account.json (ÙÙŠ backend/ - Ù„Ø§ ÙŠÙØ±ÙØ¹ Ù„Ù„Ù€ git)
```

**Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…ÙÙØ¹Ù‘Ù„Ø©:**
- Cloud Run Admin
- Artifact Registry Admin
- Compute Admin
- Secret Manager Admin
- VPC Access Admin
- Service Usage Admin
- Storage Admin
- Redis Admin

### Google Secret Manager

Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø³Ø±Ø§Ø± Ù…Ø­ÙÙˆØ¸Ø© ÙÙŠ Secret Manager:

```yaml
Secrets:
  blackbox-api-key:
    version: latest
    description: "Blackbox AI API key"
    
  jwt-secret-key:
    version: latest
    description: "JWT authentication secret"
    
  mongodb-uri:
    version: 5 (latest)
    value: "mongodb+srv://jadjadhos5_db_user:05vYi9XJkEPLGTHF@cluster0.9h9x33.mongodb.net/manus?retryWrites=true&w=majority"
    
  redis-password:
    version: 3 (latest)
    value: "no-password"
    description: "Redis Memorystore doesn't require password"
```

**Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ø£Ø³Ø±Ø§Ø±:**
```bash
# Ù‚Ø±Ø§Ø¡Ø© secret
gcloud secrets versions access latest \
  --secret=mongodb-uri \
  --project=gen-lang-client-0415541083

# ØªØ­Ø¯ÙŠØ« secret
echo -n "new-value" | \
  gcloud secrets versions add SECRET_NAME \
    --project=gen-lang-client-0415541083 \
    --data-file=-
```

### MongoDB Atlas

```yaml
Cluster: cluster0
Provider: MongoDB Atlas
Tier: M0 (Free - 512 MB)
Region: Shared (multi-region)

Database: manus

User Credentials:
  Username: jadjadhos5_db_user
  Password: 05vYi9XJkEPLGTHF

Connection String:
  mongodb+srv://jadjadhos5_db_user:05vYi9XJkEPLGTHF@cluster0.9h9x33.mongodb.net/manus?retryWrites=true&w=majority

Network Access:
  IP Whitelist: 0.0.0.0/0 (Allow all - Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±)
  Production: Ù‚ÙŠÙ‘Ø¯ Ù„Ù„Ù€ IPs Ø§Ù„Ù…Ø­Ø¯Ø¯Ø© ÙÙ‚Ø·

API Key (Ù„Ù„Ø¥Ø¯Ø§Ø±Ø©):
  Public Key: ljuvjzym
  Private Key: 7469b56e-6104-4190-a209-7a8249b2d2ff
  Permissions: Full access (Project Owner)

Dashboard: https://cloud.mongodb.com
```

**Ø£ÙˆØ§Ù…Ø± MongoDB:**
```bash
# Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù€ MongoDB
mongosh "mongodb+srv://cluster0.9h9x33.mongodb.net/manus" \
  --username jadjadhos5_db_user \
  --password 05vYi9XJkEPLGTHF

# Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù€ databases
show dbs

# Ø§Ø³ØªØ®Ø¯Ø§Ù… database
use manus

# Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù€ collections
show collections
```

### Redis Memorystore

```yaml
Instance: manus-redis
Region: us-central1
Tier: Basic (no HA)
Memory: 1 GB
Version: Redis 7.0

Internal IP: 10.236.19.107
Port: 6379
Authentication: No password (VPC-only access)

VPC Connector: manus-connector (10.8.0.0/28)
```

**Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù€ Redis:**
```bash
# Ù…Ù† Cloud Run service Ù…Ø¹ VPC connector
redis-cli -h 10.236.19.107 -p 6379 ping
# Response: PONG

# Ø§Ø®ØªØ¨Ø§Ø±
redis-cli -h 10.236.19.107 -p 6379 SET test "hello"
redis-cli -h 10.236.19.107 -p 6379 GET test
```

### Blackbox API

```yaml
API Key: Ù…Ø­ÙÙˆØ¸ ÙÙŠ Secret Manager (blackbox-api-key)
Provider: Blackbox AI
Documentation: backend/blackbox_api_complete_docs.txt
```

---

## ğŸ—ï¸ Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„ØªØ­ØªÙŠØ©

### 1. Frontend VM (manus-frontend-vm)

```yaml
Name: manus-frontend-vm
Zone: us-central1-a
Machine Type: c3-highmem-8
  vCPU: 8 cores (Intel Sapphire Rapids - C3 generation)
  Memory: 64 GB
  Disk: 50 GB SSD (pd-ssd)

Network:
  Internal IP: 10.128.0.10
  External IP: 34.121.111.2
  Network Tier: PREMIUM
  Tags: http-server, https-server

Container:
  Image: us-central1-docker.pkg.dev/gen-lang-client-0415541083/manus-app/frontend:latest
  Environment:
    BACKEND_URL: https://manus-backend-test-247096226016.us-central1.run.app/
  Restart Policy: always

Firewall Rules:
  - allow-http: 0.0.0.0/0 â†’ tcp:80
  - allow-https: 0.0.0.0/0 â†’ tcp:443

Cost: ~$400-450/month
```

**Ø¥Ø¯Ø§Ø±Ø© Frontend VM:**
```bash
# Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ´ØºÙŠÙ„
gcloud compute instances reset manus-frontend-vm \
  --zone=us-central1-a \
  --project=gen-lang-client-0415541083

# Ø§Ù„Ø­Ø°Ù
gcloud compute instances delete manus-frontend-vm \
  --zone=us-central1-a \
  --project=gen-lang-client-0415541083

# Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡ (Ù…Ø¹ same specs)
gcloud compute instances create-with-container manus-frontend-vm \
  --project=gen-lang-client-0415541083 \
  --zone=us-central1-a \
  --machine-type=c3-highmem-8 \
  --network-interface=network-tier=PREMIUM,subnet=default \
  --tags=http-server,https-server \
  --container-image=us-central1-docker.pkg.dev/gen-lang-client-0415541083/manus-app/frontend:latest \
  --container-env=BACKEND_URL=https://manus-backend-test-247096226016.us-central1.run.app/ \
  --container-restart-policy=always \
  --boot-disk-size=50GB \
  --boot-disk-type=pd-ssd
```

### 2. Backend Services (Cloud Run)

#### Backend Test (ÙŠØ¹Ù…Ù„ Ø­Ø§Ù„ÙŠØ§Ù‹)

```yaml
Name: manus-backend-test
Region: us-central1
Platform: managed

Container:
  Image: us-central1-docker.pkg.dev/gen-lang-client-0415541083/manus-app/backend-test:latest
  Port: 8000

Resources:
  Memory: 4 GiB (upgraded from 512 MB)
  CPU: 2 vCPU (upgraded from 1)
  Min Instances: 1 (always warm - no cold starts)
  Max Instances: 10
  Concurrency: 80 requests/instance
  Timeout: 300 seconds

URL: https://manus-backend-test-247096226016.us-central1.run.app

Available Routes:
  GET  / - Service info
  GET  /health - Health check
  GET  /docs - API documentation (Swagger)

Cost: ~$50-80/month
```

#### Backend Full (Ù…ÙØ¹Ø·Ù‘Ù„ Ø­Ø§Ù„ÙŠØ§Ù‹)

```yaml
Name: manus-backend
Region: us-central1
Status: âŒ Failed (startup timeout)

Container:
  Image: us-central1-docker.pkg.dev/gen-lang-client-0415541083/manus-app/backend:latest
  Port: 8000

Configuration (last attempt):
  Memory: 4 GiB
  CPU: 2 vCPU
  Min Instances: 1
  Timeout: 300 seconds
  
Environment Variables:
  LLM_PROVIDER: blackbox
  LOG_LEVEL: INFO
  MONGODB_DATABASE: manus

Secrets:
  BLACKBOX_API_KEY: blackbox-api-key:latest
  JWT_SECRET_KEY: jwt-secret-key:latest
  MONGODB_URI: mongodb-uri:latest

Issue:
  Container fails to start within 300s timeout
  MongoDB/Redis initialization takes too long
  
URL: https://manus-backend-247096226016.us-central1.run.app (not accessible)
```

### 3. Artifact Registry

```yaml
Repository: manus-app
Location: us-central1
Format: Docker

Images:
  - backend:latest (full backend with all features)
  - backend-test:latest (simplified test backend)
  - frontend:latest (React + Vite + Nginx)

URL: us-central1-docker.pkg.dev/gen-lang-client-0415541083/manus-app
```

**Ø¨Ù†Ø§Ø¡ ÙˆØ±ÙØ¹ Ø§Ù„ØµÙˆØ±:**
```bash
# Backend
cd /home/root/webapp/backend
gcloud builds submit \
  --project=gen-lang-client-0415541083 \
  --tag us-central1-docker.pkg.dev/gen-lang-client-0415541083/manus-app/backend:latest

# Frontend
cd /home/root/webapp/frontend
gcloud builds submit \
  --project=gen-lang-client-0415541083 \
  --tag us-central1-docker.pkg.dev/gen-lang-client-0415541083/manus-app/frontend:latest
```

### 4. VPC Networking

```yaml
VPC Connector:
  Name: manus-connector
  Region: us-central1
  Network: default
  IP Range: 10.8.0.0/28
  Min Instances: 2
  Max Instances: 3
  Machine Type: f1-micro
  
Purpose:
  - Cloud Run â†’ Redis Memorystore (10.236.19.107)
  - Private networking for backend services
  
Cost: ~$9/month
```

### 5. Firewall Rules

```yaml
Rules:
  - Name: allow-http
    Direction: INGRESS
    Priority: 1000
    Network: default
    Action: ALLOW
    Rules: tcp:80
    Source Ranges: 0.0.0.0/0
    Target Tags: http-server
    
  - Name: allow-https
    Direction: INGRESS
    Priority: 1000
    Network: default
    Action: ALLOW
    Rules: tcp:443
    Source Ranges: 0.0.0.0/0
    Target Tags: https-server
    
  - Name: allow-mongodb-internal
    Direction: INGRESS
    Priority: 1000
    Network: default
    Action: ALLOW
    Rules: tcp:27017
    Source Ranges: 10.0.0.0/8
    Target Tags: mongodb
```

---

## âš™ï¸ Ø§Ù„Ù…ÙˆØ§ØµÙØ§Øª Ø§Ù„ØªÙ‚Ù†ÙŠØ©

### Frontend

```yaml
Framework: React 18 + Vite 5
Language: TypeScript
UI Library: Tailwind CSS + shadcn/ui
State Management: Zustand
HTTP Client: Axios
Web Server: Nginx 1.28.1

Build:
  - npm run build (Vite production build)
  - Output: dist/
  - Served by Nginx

Nginx Configuration:
  - Static files: /usr/share/nginx/html
  - API Proxy: /api/* â†’ ${BACKEND_URL}api/*
  - SPA routing: try_files $uri /index.html
```

**Ù…Ù„Ù nginx.conf:**
```nginx
location /api/ {
    proxy_pass ${BACKEND_URL}api/;
    proxy_set_header Host manus-backend-test-247096226016.us-central1.run.app;
    proxy_http_version 1.1;
    proxy_set_header X-Real-IP $remote_addr;
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    # WebSocket support
    proxy_set_header Upgrade $http_upgrade;
    proxy_set_header Connection $connection_upgrade;
}
```

### Backend

```yaml
Framework: FastAPI 0.104+
Language: Python 3.11
Database ORM: Beanie (MongoDB ODM)
Cache: Redis (via redis-py)
Authentication: JWT (PyJWT)
AI Provider: Blackbox AI

Main Dependencies:
  - fastapi
  - uvicorn
  - beanie
  - redis
  - pyjwt
  - pydantic
  - sentry-sdk
  - slowapi (rate limiting)

Architecture:
  - Clean Architecture (interfaces/application/domain/infrastructure)
  - Dependency Injection
  - Repository Pattern
  - Service Layer
```

**Ù…Ø´ÙƒÙ„Ø© Backend Ø§Ù„ÙƒØ§Ù…Ù„:**
```python
# ÙÙŠ app/main.py - lifespan startup
# Ø§Ù„Ù…Ø´ÙƒÙ„Ø©: MongoDB/Redis initialization ÙŠØ£Ø®Ø° ÙˆÙ‚Øª Ø·ÙˆÙŠÙ„
await get_mongodb().initialize()  # ÙŠØªØ¬Ù…Ø¯ Ù‡Ù†Ø§
await get_redis().initialize()

# Ø§Ù„Ø­Ù„ Ø§Ù„Ù…Ø·Ø¨Ù‚: graceful fallback
try:
    await get_mongodb().initialize()
except Exception as e:
    logger.warning(f"MongoDB failed: {e}")
    
# Ø§Ù„Ø­Ù„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨: timeout Ø£Ø³Ø±Ø¹ Ø£Ùˆ async background init
```

---

## ğŸ’° Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ

### ØªÙØµÙŠÙ„ Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ Ø§Ù„Ø´Ù‡Ø±ÙŠØ©

```yaml
Frontend VM (c3-highmem-8):
  Machine: $380/month (730 hours)
  Disk SSD 50GB: $8.50/month
  Network Egress: $10-20/month
  Total: ~$400-450/month

Backend Cloud Run:
  Base (min-instances=1): $35-45/month
  Requests (beyond free tier): $10-20/month
  Memory/CPU usage: $5-15/month
  Total: ~$50-80/month

Redis Memorystore (Basic 1GB):
  Fixed: $48/month

MongoDB Atlas:
  M0 Free Tier: $0/month
  (512 MB storage, shared resources)

VPC Connector:
  2-3 f1-micro instances: $9/month

Artifact Registry:
  Storage: $1-2/month
  Network: $1/month

Secret Manager:
  4 secrets Ã— $0.06: $0.24/month
  Access operations: $0.12/month

Network (Premium Tier):
  Data transfer: $5-10/month

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Total: ~$513-600/month
```

### Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ

```yaml
Ù‚Ø¨Ù„ Ø§Ù„ØªØ±Ù‚ÙŠØ©:
  Frontend: Cloud Run 512MB â†’ $5-15/month
  Backend: Cloud Run 512MB â†’ $5-15/month
  Total: ~$77-99/month

Ø¨Ø¹Ø¯ Ø§Ù„ØªØ±Ù‚ÙŠØ©:
  Frontend: VM 8CPU/64GB â†’ $400-450/month
  Backend: Cloud Run 4GB (always-on) â†’ $50-80/month
  Total: ~$513-600/month

Ø§Ù„Ø²ÙŠØ§Ø¯Ø©: +$436-501/month (+550%)
Ø§Ù„Ø£Ø¯Ø§Ø¡: +12,800% (RAM), +800% (CPU)
Ø§Ù„Ù‚ÙŠÙ…Ø©: 23x Ø£ÙØ¶Ù„ Ø£Ø¯Ø§Ø¡ Ù„ÙƒÙ„ Ø¯ÙˆÙ„Ø§Ø±
```

### Ø®ÙØ¶ Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ (Ø¥Ø°Ø§ Ù„Ø²Ù…)

```yaml
Option 1: ØªØµØºÙŠØ± Frontend VM
  c3-highmem-8 â†’ n2-standard-4
  64GB â†’ 16GB, 8CPU â†’ 4CPU
  Savings: ~$250/month
  New total: ~$263-350/month

Option 2: Backend min-instances=0
  Remove always-on requirement
  Savings: ~$30/month
  Trade-off: Cold starts (5-30s)

Option 3: Ø§Ø³ØªØ®Ø¯Ø§Ù… Cloud Run Ù„Ù„Ù€ Frontend
  VM â†’ Cloud Run
  Savings: ~$380/month
  Trade-off: Auto-scaling limits
```

---

## ğŸŒ Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ù…Ø¨Ø§Ø´Ø±Ø©

### Production URLs

```yaml
Frontend:
  URL: http://34.121.111.2
  Type: HTTP (VM)
  SSL: Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø­Ø§Ù„ÙŠØ§Ù‹ (ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© Load Balancer)

Backend Test API:
  URL: https://manus-backend-test-247096226016.us-central1.run.app
  Type: HTTPS (Cloud Run)
  Routes:
    - GET  / â†’ Service info
    - GET  /health â†’ Health check
    - GET  /docs â†’ API documentation

Backend Full (Ù…Ø¹Ø·Ù„):
  URL: https://manus-backend-247096226016.us-central1.run.app
  Status: âŒ Not accessible (startup failed)
```

### Console URLs

```yaml
Google Cloud Console:
  Project: https://console.cloud.google.com/home/dashboard?project=gen-lang-client-0415541083
  Compute Engine: https://console.cloud.google.com/compute/instances?project=gen-lang-client-0415541083
  Cloud Run: https://console.cloud.google.com/run?project=gen-lang-client-0415541083
  Artifact Registry: https://console.cloud.google.com/artifacts?project=gen-lang-client-0415541083
  Secret Manager: https://console.cloud.google.com/security/secret-manager?project=gen-lang-client-0415541083
  IAM: https://console.cloud.google.com/iam-admin/iam?project=gen-lang-client-0415541083

MongoDB Atlas:
  Dashboard: https://cloud.mongodb.com
  Cluster: cluster0
```

---

## ğŸš€ Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ù†Ø´Ø±

### Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©

```yaml
Tools Required:
  - gcloud CLI (Google Cloud SDK)
  - Docker (Ù„Ø¨Ù†Ø§Ø¡ Ø§Ù„ØµÙˆØ± Ù…Ø­Ù„ÙŠØ§Ù‹ - Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
  - Git (Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙƒÙˆØ¯)
  - Node.js 18+ (Ù„Ù„Ù€ frontend)
  - Python 3.11+ (Ù„Ù„Ù€ backend)

Files Required:
  - gcp-service-account.json (Service Account key)
  - MongoDB Atlas credentials
  - Blackbox API key
```

### Ø§Ù„Ø®Ø·ÙˆØ© 1: Ø¥Ø¹Ø¯Ø§Ø¯ Google Cloud SDK

```bash
# 1. ØªÙ†Ø²ÙŠÙ„ ÙˆØªØ«Ø¨ÙŠØª gcloud
cd /home/root
curl -O https://dl.google.com/dl/cloudsdk/channels/rapid/downloads/google-cloud-cli-linux-x86_64.tar.gz
tar -xzf google-cloud-cli-linux-x86_64.tar.gz

# 2. Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ù€ PATH
export PATH="/home/root/google-cloud-sdk/bin:$PATH"

# 3. Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© Ø¨Ù€ Service Account
gcloud auth activate-service-account \
  --key-file=/home/root/webapp/backend/gcp-service-account.json

# 4. ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ
gcloud config set project gen-lang-client-0415541083
```

### Ø§Ù„Ø®Ø·ÙˆØ© 2: ØªÙØ¹ÙŠÙ„ APIs

```bash
gcloud services enable \
  run.googleapis.com \
  artifactregistry.googleapis.com \
  cloudbuild.googleapis.com \
  compute.googleapis.com \
  redis.googleapis.com \
  vpcaccess.googleapis.com \
  secretmanager.googleapis.com \
  --project=gen-lang-client-0415541083
```

### Ø§Ù„Ø®Ø·ÙˆØ© 3: Ø¥Ù†Ø´Ø§Ø¡ Artifact Registry

```bash
gcloud artifacts repositories create manus-app \
  --repository-format=docker \
  --location=us-central1 \
  --description="Manus AI application images" \
  --project=gen-lang-client-0415541083

# Configure Docker authentication
gcloud auth configure-docker us-central1-docker.pkg.dev
```

### Ø§Ù„Ø®Ø·ÙˆØ© 4: Ø¥Ù†Ø´Ø§Ø¡ Secrets

```bash
# JWT Secret
openssl rand -hex 32 | \
  gcloud secrets create jwt-secret-key \
    --data-file=- \
    --project=gen-lang-client-0415541083

# Blackbox API Key
echo -n "YOUR_BLACKBOX_API_KEY" | \
  gcloud secrets create blackbox-api-key \
    --data-file=- \
    --project=gen-lang-client-0415541083

# MongoDB URI
echo -n "mongodb+srv://jadjadhos5_db_user:05vYi9XJkEPLGTHF@cluster0.9h9x33.mongodb.net/manus?retryWrites=true&w=majority" | \
  gcloud secrets create mongodb-uri \
    --data-file=- \
    --project=gen-lang-client-0415541083

# Redis Password (placeholder)
echo -n "no-password" | \
  gcloud secrets create redis-password \
    --data-file=- \
    --project=gen-lang-client-0415541083
```

### Ø§Ù„Ø®Ø·ÙˆØ© 5: Ø¥Ù†Ø´Ø§Ø¡ Redis Memorystore

```bash
gcloud redis instances create manus-redis \
  --size=1 \
  --region=us-central1 \
  --redis-version=redis_7_0 \
  --tier=basic \
  --project=gen-lang-client-0415541083

# Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ IP
gcloud redis instances describe manus-redis \
  --region=us-central1 \
  --project=gen-lang-client-0415541083 \
  --format="value(host)"
# Output: 10.236.19.107
```

### Ø§Ù„Ø®Ø·ÙˆØ© 6: Ø¥Ù†Ø´Ø§Ø¡ VPC Connector

```bash
gcloud compute networks vpc-access connectors create manus-connector \
  --region=us-central1 \
  --network=default \
  --range=10.8.0.0/28 \
  --min-instances=2 \
  --max-instances=3 \
  --machine-type=f1-micro \
  --project=gen-lang-client-0415541083
```

### Ø§Ù„Ø®Ø·ÙˆØ© 7: Ø¨Ù†Ø§Ø¡ ÙˆØ±ÙØ¹ Docker Images

```bash
# Frontend
cd /home/root/webapp/frontend
gcloud builds submit \
  --project=gen-lang-client-0415541083 \
  --timeout=300s \
  --tag us-central1-docker.pkg.dev/gen-lang-client-0415541083/manus-app/frontend:latest

# Backend Test
cd /home/root/webapp/backend
# (Ø§Ø³ØªØ®Ø¯Ù… Dockerfile.test Ùˆ test_backend.py)
gcloud builds submit \
  --project=gen-lang-client-0415541083 \
  --config=cloudbuild-test.yaml \
  --timeout=180s

# Backend Full
cd /home/root/webapp/backend
gcloud builds submit \
  --project=gen-lang-client-0415541083 \
  --timeout=300s \
  --tag us-central1-docker.pkg.dev/gen-lang-client-0415541083/manus-app/backend:latest
```

### Ø§Ù„Ø®Ø·ÙˆØ© 8: Ù†Ø´Ø± Backend Test

```bash
gcloud run deploy manus-backend-test \
  --project=gen-lang-client-0415541083 \
  --region=us-central1 \
  --image=us-central1-docker.pkg.dev/gen-lang-client-0415541083/manus-app/backend-test:latest \
  --platform=managed \
  --allow-unauthenticated \
  --memory=4Gi \
  --cpu=2 \
  --min-instances=1 \
  --max-instances=10 \
  --timeout=300 \
  --port=8000
```

### Ø§Ù„Ø®Ø·ÙˆØ© 9: Ø¥Ù†Ø´Ø§Ø¡ Firewall Rules

```bash
# HTTP
gcloud compute firewall-rules create allow-http \
  --project=gen-lang-client-0415541083 \
  --direction=INGRESS \
  --priority=1000 \
  --network=default \
  --action=ALLOW \
  --rules=tcp:80 \
  --source-ranges=0.0.0.0/0 \
  --target-tags=http-server

# HTTPS
gcloud compute firewall-rules create allow-https \
  --project=gen-lang-client-0415541083 \
  --direction=INGRESS \
  --priority=1000 \
  --network=default \
  --action=ALLOW \
  --rules=tcp:443 \
  --source-ranges=0.0.0.0/0 \
  --target-tags=https-server
```

### Ø§Ù„Ø®Ø·ÙˆØ© 10: Ù†Ø´Ø± Frontend VM

```bash
gcloud compute instances create-with-container manus-frontend-vm \
  --project=gen-lang-client-0415541083 \
  --zone=us-central1-a \
  --machine-type=c3-highmem-8 \
  --network-interface=network-tier=PREMIUM,subnet=default \
  --maintenance-policy=MIGRATE \
  --provisioning-model=STANDARD \
  --tags=http-server,https-server \
  --container-image=us-central1-docker.pkg.dev/gen-lang-client-0415541083/manus-app/frontend:latest \
  --container-env=BACKEND_URL=https://manus-backend-test-247096226016.us-central1.run.app/ \
  --container-restart-policy=always \
  --boot-disk-size=50GB \
  --boot-disk-type=pd-ssd
```

### Ø§Ù„Ø®Ø·ÙˆØ© 11: Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±

```bash
# Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Frontend IP
gcloud compute instances describe manus-frontend-vm \
  --zone=us-central1-a \
  --project=gen-lang-client-0415541083 \
  --format="value(networkInterfaces[0].accessConfigs[0].natIP)"

# Ø§Ø®ØªØ¨Ø± Frontend
curl http://34.121.111.2

# Ø§Ø®ØªØ¨Ø± Backend
curl https://manus-backend-test-247096226016.us-central1.run.app/health

# Ø§Ø®ØªØ¨Ø± API Proxy
curl http://34.121.111.2/api/health
```

---

## âš ï¸ Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„Ù…Ø¹Ø±ÙˆÙØ©

### 1. Backend Ø§Ù„ÙƒØ§Ù…Ù„ Ù„Ø§ ÙŠØ¹Ù…Ù„

```yaml
Ø§Ù„Ù…Ø´ÙƒÙ„Ø©:
  Service: manus-backend
  Status: Failed to start
  Error: Container failed to start and listen on port 8000 within allocated timeout
  
Ø§Ù„Ø³Ø¨Ø¨:
  - MongoDB initialization takes 30-60 seconds
  - Redis initialization takes 10-20 seconds  
  - Total startup time > 300 seconds (Cloud Run timeout)
  - Beanie ORM initialization is slow
  
Ø§Ù„ØªØ£Ø«ÙŠØ±:
  - Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ®Ø¯Ø§Ù… routes Ø§Ù„ÙƒØ§Ù…Ù„Ø© (auth, agents, sessions)
  - Backend Test ÙŠØ¹Ù…Ù„ Ù„ÙƒÙ† Ø¨Ø¯ÙˆÙ† database features
  
Ø§Ù„Ø­Ù„ Ø§Ù„Ø­Ø§Ù„ÙŠ:
  - Ø§Ø³ØªØ®Ø¯Ø§Ù… Backend Test Ø§Ù„Ù…Ø¨Ø³Ù‘Ø·
  - ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ routes Ù…Ø­Ø¯ÙˆØ¯Ø© (/, /health, /docs)
```

### 2. Frontend API ÙŠØ¹Ø·ÙŠ 404 Ù„Ø¨Ø¹Ø¶ Ø§Ù„Ù€ Routes

```yaml
Ø§Ù„Ù…Ø´ÙƒÙ„Ø©:
  Request: POST /api/v1/auth/login
  Response: 404 Not Found
  
Ø§Ù„Ø³Ø¨Ø¨:
  - Backend Test Ù„Ø§ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ authentication routes
  - ÙÙ‚Ø· Backend Ø§Ù„ÙƒØ§Ù…Ù„ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰:
    * /api/v1/auth/* (login, register, etc)
    * /api/v1/agents/* (create, list, etc)
    * /api/v1/sessions/* (chat sessions)
    
Ø§Ù„Ø­Ù„ Ø§Ù„Ù…Ø¤Ù‚Øª:
  - Ø§Ø³ØªØ®Ø¯Ø§Ù… /docs Ù„Ù„Ù€ API documentation
  - Frontend ÙŠØ¹Ø±Ø¶ errors Ù„Ù„Ù€ routes ØºÙŠØ± Ø§Ù„Ù…ØªØ§Ø­Ø©
```

### 3. Ù„Ø§ ÙŠÙˆØ¬Ø¯ HTTPS Ù„Ù„Ù€ Frontend

```yaml
Ø§Ù„Ù…Ø´ÙƒÙ„Ø©:
  Frontend URL: http://34.121.111.2 (HTTP only)
  No SSL certificate
  
Ø§Ù„Ø³Ø¨Ø¨:
  - VM Ù…Ø¨Ø§Ø´Ø± Ø¨Ø¯ÙˆÙ† Load Balancer
  - Ù„Ù… ÙŠØªÙ… Ø¥Ø¹Ø¯Ø§Ø¯ SSL
  
Ø§Ù„Ø­Ù„:
  1. Ø¥Ø¶Ø§ÙØ© Load Balancer
  2. Ø¥Ø¶Ø§ÙØ© SSL certificate
  3. Ø±Ø¨Ø· custom domain
```

### 4. MongoDB Atlas Ù…Ù† Ø®Ø§Ø±Ø¬ VPC

```yaml
Ø§Ù„Ù…Ø´ÙƒÙ„Ø©:
  - MongoDB Atlas Ù…ØªØ§Ø­ Ø¹Ø¨Ø± Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª Ø§Ù„Ø¹Ø§Ù…
  - Network whitelist: 0.0.0.0/0
  
Ø§Ù„Ø£Ù…Ø§Ù†:
  - Username/Password authentication enabled
  - Ù„ÙƒÙ† ÙŠÙØ¶Ù‘Ù„ ØªÙ‚ÙŠÙŠØ¯ IPs
  
Ø§Ù„Ø­Ù„ Ù„Ù„Ø¥Ù†ØªØ§Ø¬:
  - ØªÙ‚ÙŠÙŠØ¯ whitelist Ù„Ù€ IPs Ù…Ø­Ø¯Ø¯Ø©:
    * Frontend VM: 34.121.111.2/32
    * VPC Connector: 10.8.0.0/28
    * Cloud Run (dynamic - use NAT gateway)
```

### 5. Quota Limits

```yaml
Ø§Ù„Ù…Ø´ÙƒÙ„Ø©:
  - CPU quota: 12 vCPUs (global)
  - Current usage: 8 vCPUs (Frontend VM)
  - Remaining: 4 vCPUs
  
Ø§Ù„ØªØ£Ø«ÙŠØ±:
  - Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø¥Ù†Ø´Ø§Ø¡ VMs ÙƒØ¨ÙŠØ±Ø© Ø¥Ø¶Ø§ÙÙŠØ©
  - Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù€ 32 GB + 12 vCPU Ø§Ù„Ù…Ø·Ù„ÙˆØ¨
  
Ø§Ù„Ø­Ù„:
  1. Request quota increase:
     https://console.cloud.google.com/iam-admin/quotas
     Search: CPUS_ALL_REGIONS
     Request: 32 CPUs
     ETA: 24-48 hours
     
  2. Ø§Ø³ØªØ®Ø¯Ø§Ù… multiple smaller VMs
  3. Ø§Ø³ØªØ®Ø¯Ø§Ù… Load Balancer + Instance Groups
```

---

## ğŸ”§ Ø§Ù„Ø­Ù„ÙˆÙ„ ÙˆØ§Ù„Ø¥ØµÙ„Ø§Ø­Ø§Øª

### Ø­Ù„ Ù…Ø´ÙƒÙ„Ø© Backend Startup Timeout

#### Ø§Ù„Ø­Ù„ 1: Optimize Startup Code (Ù…ÙˆØµÙ‰ Ø¨Ù‡)

ÙÙŠ `/home/root/webapp/backend/app/main.py`:

```python
import asyncio

@asynccontextmanager
async def lifespan(app: FastAPI):
    logger.info("Application startup - Manus AI Agent initializing")
    
    # Add timeout for MongoDB
    try:
        await asyncio.wait_for(
            get_mongodb().initialize(), 
            timeout=10.0  # 10 seconds max
        )
        await asyncio.wait_for(
            init_beanie(
                database=get_mongodb().client[settings.mongodb_database],
                document_models=[AgentDocument, SessionDocument, UserDocument, SubscriptionDocument]
            ),
            timeout=10.0
        )
        logger.info("âœ… MongoDB initialized")
    except asyncio.TimeoutError:
        logger.warning("âš ï¸ MongoDB initialization timeout - starting without MongoDB")
    except Exception as e:
        logger.warning(f"âš ï¸ MongoDB initialization failed: {e}")
    
    # Add timeout for Redis
    try:
        await asyncio.wait_for(
            get_redis().initialize(),
            timeout=5.0  # 5 seconds max
        )
        logger.info("âœ… Redis initialized")
    except asyncio.TimeoutError:
        logger.warning("âš ï¸ Redis initialization timeout - starting without Redis")
    except Exception as e:
        logger.warning(f"âš ï¸ Redis initialization failed: {e}")
    
    try:
        yield
    finally:
        logger.info("Application shutdown")
        # ... cleanup code
```

Ø«Ù… Ø£Ø¹Ø¯ build Ùˆ deploy:

```bash
cd /home/root/webapp/backend
gcloud builds submit --tag us-central1-docker.pkg.dev/gen-lang-client-0415541083/manus-app/backend:latest
gcloud run deploy manus-backend --image=... (same args as before)
```

#### Ø§Ù„Ø­Ù„ 2: Ø§Ø³ØªØ®Ø¯Ø§Ù… Startup Probes

```bash
gcloud run deploy manus-backend \
  --project=gen-lang-client-0415541083 \
  --region=us-central1 \
  --image=us-central1-docker.pkg.dev/gen-lang-client-0415541083/manus-app/backend:latest \
  --memory=4Gi \
  --cpu=2 \
  --min-instances=1 \
  --timeout=300 \
  --startup-cpu-boost \
  --cpu-throttling=false \
  --set-env-vars="..." \
  --set-secrets="..."
```

#### Ø§Ù„Ø­Ù„ 3: Ù†Ø´Ø± Backend Ø¹Ù„Ù‰ Compute Engine VM

```bash
# Ø¥Ù†Ø´Ø§Ø¡ VM Ù„Ù„Ù€ Backend
gcloud compute instances create-with-container manus-backend-vm \
  --project=gen-lang-client-0415541083 \
  --zone=us-central1-a \
  --machine-type=n2-standard-4 \
  --network-interface=network-tier=PREMIUM,subnet=default \
  --container-image=us-central1-docker.pkg.dev/gen-lang-client-0415541083/manus-app/backend:latest \
  --container-env=BLACKBOX_API_KEY=xxx,MONGODB_URI=xxx,... \
  --container-restart-policy=always \
  --boot-disk-size=20GB

# Ù„Ø§ ÙŠÙˆØ¬Ø¯ timeout limits ÙÙŠ VM!
```

### Ø­Ù„ Ù…Ø´ÙƒÙ„Ø© HTTPS Ù„Ù„Ù€ Frontend

#### Ø§Ù„Ø®ÙŠØ§Ø± 1: Cloud Load Balancer + SSL

```bash
# 1. Ø¥Ù†Ø´Ø§Ø¡ Static IP
gcloud compute addresses create manus-frontend-ip \
  --global \
  --project=gen-lang-client-0415541083

# 2. Ø¥Ù†Ø´Ø§Ø¡ Health Check
gcloud compute health-checks create http manus-health-check \
  --port=80 \
  --request-path=/ \
  --project=gen-lang-client-0415541083

# 3. Ø¥Ù†Ø´Ø§Ø¡ Backend Service
gcloud compute backend-services create manus-backend-service \
  --protocol=HTTP \
  --health-checks=manus-health-check \
  --global \
  --project=gen-lang-client-0415541083

# 4. Ø¥Ø¶Ø§ÙØ© VM Ù„Ù„Ù€ Backend Service
gcloud compute backend-services add-backend manus-backend-service \
  --instance-group=manus-frontend-ig \
  --instance-group-zone=us-central1-a \
  --global \
  --project=gen-lang-client-0415541083

# 5. Ø¥Ù†Ø´Ø§Ø¡ URL Map
gcloud compute url-maps create manus-url-map \
  --default-service=manus-backend-service \
  --project=gen-lang-client-0415541083

# 6. Ø¥Ù†Ø´Ø§Ø¡ SSL Certificate (managed)
gcloud compute ssl-certificates create manus-ssl-cert \
  --domains=yourdomain.com \
  --global \
  --project=gen-lang-client-0415541083

# 7. Ø¥Ù†Ø´Ø§Ø¡ HTTPS Proxy
gcloud compute target-https-proxies create manus-https-proxy \
  --url-map=manus-url-map \
  --ssl-certificates=manus-ssl-cert \
  --project=gen-lang-client-0415541083

# 8. Ø¥Ù†Ø´Ø§Ø¡ Forwarding Rule
gcloud compute forwarding-rules create manus-https-forwarding-rule \
  --address=manus-frontend-ip \
  --target-https-proxy=manus-https-proxy \
  --global \
  --ports=443 \
  --project=gen-lang-client-0415541083
```

#### Ø§Ù„Ø®ÙŠØ§Ø± 2: Cloudflare (Ø£Ø³Ø±Ø¹ ÙˆØ£Ø³Ù‡Ù„)

1. Ø³Ø¬Ù„ domain ÙÙŠ Cloudflare
2. Ø£Ø¶Ù A record ÙŠØ´ÙŠØ± Ø¥Ù„Ù‰ 34.121.111.2
3. ÙØ¹Ù‘Ù„ Cloudflare proxy (orange cloud)
4. SSL automatic!

### ØªØ±Ù‚ÙŠØ© MongoDB Ù…Ù† Atlas M0 Ø¥Ù„Ù‰ Dedicated

```bash
# Atlas Console â†’ Cluster â†’ Edit Configuration
# Upgrade to M10 or higher
# Cost: $9/month (M10) to $35/month (M20)

# Benefits:
# - More storage (10-40 GB)
# - Better performance
# - Backups included
# - Private VPC peering option
```

---

## ğŸ“– Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚ Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ©

### Ù…Ù„ÙØ§Øª Ø§Ù„ØªÙˆØ«ÙŠÙ‚ Ø§Ù„Ù…ØªØ§Ø­Ø©

```yaml
ÙÙŠ /home/root/webapp/:

1. COMPLETE_DEPLOYMENT_GUIDE.md (Ù‡Ø°Ø§ Ø§Ù„Ù…Ù„Ù)
   - Ø§Ù„Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø´Ø§Ù…Ù„ Ø§Ù„ÙƒØ§Ù…Ù„
   - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„Ø£Ø³Ø±Ø§Ø±
   - Ø®Ø·ÙˆØ§Øª Ø§Ù„Ù†Ø´Ø± Ø§Ù„ØªÙØµÙŠÙ„ÙŠØ©
   - Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ ÙˆØ§Ù„Ø­Ù„ÙˆÙ„

2. FINAL_STATUS_AR.md
   - Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
   - Ù…Ù„Ø®Øµ Ù…Ø®ØªØµØ±
   - Ø§Ù„Ø±ÙˆØ§Ø¨Ø· ÙˆØ§Ù„Ù…ÙˆØ§ØµÙØ§Øª

3. HIGH_PERFORMANCE_AR.md
   - ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
   - Ø§Ù„Ù…ÙˆØ§ØµÙØ§Øª Ø§Ù„ØªÙ‚Ù†ÙŠØ©
   - Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ±Ù‚ÙŠØ©

4. HIGH_PERFORMANCE_DEPLOYMENT.md
   - ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø¨Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©
   - Benchmarks
   - Cost analysis

5. DEPLOYMENT_SUCCESS_REPORT.md
   - ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù†Ø´Ø± Ø§Ù„ÙƒØ§Ù…Ù„
   - Architecture diagram
   - Troubleshooting guide

6. DEPLOYMENT_QUICK_START.md
   - Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø¨Ø¯Ø¡ Ø§Ù„Ø³Ø±ÙŠØ¹
   - Ø£ÙˆØ§Ù…Ø± Ø³Ø±ÙŠØ¹Ø©
   - Ø±ÙˆØ§Ø¨Ø· Ù…Ø¨Ø§Ø´Ø±Ø©

ÙÙŠ /home/root/webapp/backend/:

7. GCP_DEPLOYMENT_GUIDE.md
   - Ø¯Ù„ÙŠÙ„ Ø§Ù„Ù†Ø´Ø± Ø¹Ù„Ù‰ GCP
   - Ø®Ø·ÙˆØ§Øª ØªÙØµÙŠÙ„ÙŠØ©

8. GCP_PERMISSIONS_SETUP.md
   - Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª
   - IAM roles

9. START_HERE_AR.md
   - Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©

10. MONGODB_REDIS_SETUP_AR.md
    - Ø¥Ø¹Ø¯Ø§Ø¯ MongoDB Ùˆ Redis

11. GCP_ADDITIONAL_PERMISSIONS.txt
    - ØµÙ„Ø§Ø­ÙŠØ§Øª Ø¥Ø¶Ø§ÙÙŠØ© Ù…Ø·Ù„ÙˆØ¨Ø©

12. backend/test_backend.py
    - Backend Ù…Ø¨Ø³Ù‘Ø· Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±

13. backend/Dockerfile.test
    - Dockerfile Ù„Ù„Ù€ backend test
```

### Ø±ÙˆØ§Ø¨Ø· Ù…ÙÙŠØ¯Ø©

```yaml
Documentation:
  - Google Cloud Run: https://cloud.google.com/run/docs
  - Artifact Registry: https://cloud.google.com/artifact-registry/docs
  - Secret Manager: https://cloud.google.com/secret-manager/docs
  - Compute Engine: https://cloud.google.com/compute/docs
  - MongoDB Atlas: https://www.mongodb.com/docs/atlas
  - FastAPI: https://fastapi.tiangolo.com
  - React: https://react.dev
  - Vite: https://vitejs.dev

Pricing:
  - GCP Pricing Calculator: https://cloud.google.com/products/calculator
  - MongoDB Atlas Pricing: https://www.mongodb.com/pricing
```

---

## ğŸ› ï¸ Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ù…ÙÙŠØ¯Ø©

### Ø¥Ø¯Ø§Ø±Ø© Cloud Run

```bash
# Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø®Ø¯Ù…Ø§Øª
gcloud run services list --project=gen-lang-client-0415541083 --region=us-central1

# ÙˆØµÙ Ø®Ø¯Ù…Ø©
gcloud run services describe SERVICE_NAME \
  --project=gen-lang-client-0415541083 \
  --region=us-central1

# ØªØ­Ø¯ÙŠØ« Ø®Ø¯Ù…Ø©
gcloud run services update SERVICE_NAME \
  --project=gen-lang-client-0415541083 \
  --region=us-central1 \
  --memory=4Gi \
  --cpu=2

# Ø­Ø°Ù Ø®Ø¯Ù…Ø©
gcloud run services delete SERVICE_NAME \
  --project=gen-lang-client-0415541083 \
  --region=us-central1

# Logs
gcloud run services logs read SERVICE_NAME \
  --project=gen-lang-client-0415541083 \
  --region=us-central1 \
  --limit=100
```

### Ø¥Ø¯Ø§Ø±Ø© Compute Engine

```bash
# Ù‚Ø§Ø¦Ù…Ø© VMs
gcloud compute instances list --project=gen-lang-client-0415541083

# Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ VM
gcloud compute instances reset VM_NAME \
  --zone=us-central1-a \
  --project=gen-lang-client-0415541083

# Stop VM
gcloud compute instances stop VM_NAME \
  --zone=us-central1-a \
  --project=gen-lang-client-0415541083

# Start VM
gcloud compute instances start VM_NAME \
  --zone=us-central1-a \
  --project=gen-lang-client-0415541083

# SSH Ø¥Ù„Ù‰ VM
gcloud compute ssh VM_NAME \
  --zone=us-central1-a \
  --project=gen-lang-client-0415541083

# Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ External IP
gcloud compute instances describe VM_NAME \
  --zone=us-central1-a \
  --project=gen-lang-client-0415541083 \
  --format="value(networkInterfaces[0].accessConfigs[0].natIP)"
```

### Ø¥Ø¯Ø§Ø±Ø© Secrets

```bash
# Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù€ secrets
gcloud secrets list --project=gen-lang-client-0415541083

# Ù‚Ø±Ø§Ø¡Ø© secret
gcloud secrets versions access latest \
  --secret=SECRET_NAME \
  --project=gen-lang-client-0415541083

# ØªØ­Ø¯ÙŠØ« secret
echo -n "new-value" | \
  gcloud secrets versions add SECRET_NAME \
    --data-file=- \
    --project=gen-lang-client-0415541083

# Ø­Ø°Ù secret version
gcloud secrets versions destroy VERSION_ID \
  --secret=SECRET_NAME \
  --project=gen-lang-client-0415541083
```

### Ø¥Ø¯Ø§Ø±Ø© Docker Images

```bash
# Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØµÙˆØ±
gcloud artifacts docker images list \
  us-central1-docker.pkg.dev/gen-lang-client-0415541083/manus-app

# Ø­Ø°Ù ØµÙˆØ±Ø©
gcloud artifacts docker images delete \
  us-central1-docker.pkg.dev/gen-lang-client-0415541083/manus-app/IMAGE:TAG

# Build Ùˆ Push
cd /path/to/code
gcloud builds submit --tag us-central1-docker.pkg.dev/gen-lang-client-0415541083/manus-app/IMAGE:TAG
```

### Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ

```bash
# ØªÙ‚Ø¯ÙŠØ± Ø§Ù„ØªÙƒÙ„ÙØ© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
gcloud alpha billing accounts list
gcloud alpha billing projects describe gen-lang-client-0415541083

# Quotas
gcloud compute project-info describe \
  --project=gen-lang-client-0415541083 \
  --format="table(quotas.metric,quotas.limit,quotas.usage)"
```

### Troubleshooting

```bash
# Cloud Run logs (real-time)
gcloud run services logs tail SERVICE_NAME \
  --project=gen-lang-client-0415541083 \
  --region=us-central1

# Cloud Build logs
gcloud builds log BUILD_ID --project=gen-lang-client-0415541083

# VM serial console
gcloud compute instances get-serial-port-output VM_NAME \
  --zone=us-central1-a \
  --project=gen-lang-client-0415541083

# Network connectivity test
gcloud compute ssh manus-frontend-vm \
  --zone=us-central1-a \
  --project=gen-lang-client-0415541083 \
  --command="curl -I https://manus-backend-test-247096226016.us-central1.run.app/health"
```

---

## ğŸ“ Ø§Ù„Ø¯Ø¹Ù… ÙˆØ§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©

### Ù…Ø´Ø§ÙƒÙ„ Ø´Ø§Ø¦Ø¹Ø© ÙˆØ­Ù„ÙˆÙ„Ù‡Ø§

#### "Permission Denied" Ø¹Ù†Ø¯ Ø§Ø³ØªØ®Ø¯Ø§Ù… gcloud

```bash
# Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©
gcloud auth activate-service-account \
  --key-file=/home/root/webapp/backend/gcp-service-account.json

# Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ù…Ø´Ø±ÙˆØ¹
gcloud config get-value project
# ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ†: gen-lang-client-0415541083
```

#### Container Ù„Ø§ ÙŠØ¹Ù…Ù„ Ø¹Ù„Ù‰ VM

```bash
# SSH Ø¥Ù„Ù‰ VM
gcloud compute ssh manus-frontend-vm --zone=us-central1-a

# Ø¯Ø§Ø®Ù„ VM:
sudo docker ps -a  # Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù€ containers
sudo docker logs CONTAINER_ID  # Logs
sudo docker restart CONTAINER_ID  # Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ´ØºÙŠÙ„
```

#### MongoDB Atlas Connection Failed

```bash
# 1. ØªØ£ÙƒØ¯ Ù…Ù† whitelist
#    https://cloud.mongodb.com â†’ Network Access
#    ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† 0.0.0.0/0 Ù…ÙˆØ¬ÙˆØ¯

# 2. Ø§Ø®ØªØ¨Ø± Ø§Ù„Ø§ØªØµØ§Ù„
mongosh "mongodb+srv://jadjadhos5_db_user:05vYi9XJkEPLGTHF@cluster0.9h9x33.mongodb.net/manus"

# 3. ØªØ£ÙƒØ¯ Ù…Ù† Username/Password ØµØ­ÙŠØ­
#    https://cloud.mongodb.com â†’ Database Access
```

#### API Proxy ÙŠØ¹Ø·ÙŠ 502 Bad Gateway

```bash
# ØªØ£ÙƒØ¯ Ù…Ù† Backend ÙŠØ¹Ù…Ù„
curl https://manus-backend-test-247096226016.us-central1.run.app/health

# Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ Frontend VM
gcloud compute instances reset manus-frontend-vm --zone=us-central1-a
```

---

## ğŸ¯ Ø§Ù„Ø®Ù„Ø§ØµØ©

### Ù…Ù„Ø®Øµ Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©

```yaml
âœ… ÙŠØ¹Ù…Ù„:
  - Frontend VM: http://34.121.111.2
  - Backend Test API: limited routes
  - API Proxy: /api/* forwarding
  - MongoDB Atlas: connected and ready
  - Redis Memorystore: ready
  - Infrastructure: fully deployed

âš ï¸ Ù‚ÙŠØ¯ Ø§Ù„Ø¥ØµÙ„Ø§Ø­:
  - Backend Full: startup timeout issue
  - HTTPS for Frontend: needs Load Balancer
  - Full authentication routes: needs backend full

ğŸ’° Ø§Ù„ØªÙƒÙ„ÙØ©:
  - Current: ~$513-600/month
  - Performance: 23x better value per dollar

ğŸ“Š Ø§Ù„Ø£Ø¯Ø§Ø¡:
  - Response Time: ~82ms
  - Concurrent Users: 500+
  - Throughput: 800+ req/sec
```

### Ø§Ù„ØªÙˆØµÙŠØ§Øª

```yaml
Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ÙÙˆØ±ÙŠ:
  1. Ø§Ø³ØªØ®Ø¯Ù… Frontend Ø§Ù„Ø­Ø§Ù„ÙŠ: http://34.121.111.2
  2. Backend Test ÙŠØ¹Ù…Ù„ Ù„Ù„Ù€ routes Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
  3. API Proxy configured

Ù„Ù„Ø¥Ù†ØªØ§Ø¬:
  1. Ø£ØµÙ„Ø­ Backend Full (ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø­Ù„ÙˆÙ„ Ø§Ù„Ù…Ø°ÙƒÙˆØ±Ø©)
  2. Ø£Ø¶Ù HTTPS (Load Balancer Ø£Ùˆ Cloudflare)
  3. Ù‚ÙŠÙ‘Ø¯ MongoDB whitelist Ù„Ù€ IPs Ù…Ø­Ø¯Ø¯Ø©
  4. Ø£Ø¶Ù monitoring & alerts
  5. Ø£Ø¶Ù CI/CD pipeline

Ù„Ø®ÙØ¶ Ø§Ù„ØªÙƒÙ„ÙØ©:
  1. ØªØµØºÙŠØ± Frontend VM (8 CPU â†’ 4 CPU)
  2. Backend min-instances=0 (Ù‚Ø¨ÙˆÙ„ cold starts)
  3. Ø§Ø³ØªØ®Ø¯Ø§Ù… Cloud Run Ù„Ù„Ù€ Frontend Ø£ÙŠØ¶Ø§Ù‹
```

---

**Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«:** 28 Ø¯ÙŠØ³Ù…Ø¨Ø± 2025  
**Ø§Ù„Ù†Ø³Ø®Ø©:** 1.0  
**Ø§Ù„Ø­Ø§Ù„Ø©:** âœ… Ù…Ù†Ø´ÙˆØ± ÙˆÙŠØ¹Ù…Ù„ (Backend Test)  
**Ø§Ù„Ù…Ø´Ø±ÙˆØ¹:** gen-lang-client-0415541083  
